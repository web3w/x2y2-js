const sdk = require("@x2y2-io/sdk")
const secrets = require('../../secrets.json')
const {ethersWallet} = require("@x2y2-io/sdk");

(async () => {
    const network = 'mainnet'
    sdk.init(secrets.x2y2ApiKey)
    const seller = ethersWallet(secrets.accounts["0x32f4B63A46c1D12AD82cABC778D75aBF9889821a"], network)

    const bal = await seller.getBalance()

    const token = '0x1dfe7ca09e99d10835bf73044a23b73fc20623df'
    const tokenId = '1120101'

    const price = '20000000000000000'
    const expirationTime =  Math.round(Date.now() / 1000) + 60 * 60

    const api =await sdk.list({
        network,
        signer:seller,
        token,
        tokenId,
        price,
        expirationTime
    })
    console.log(api)

    // const res = await api._post('/api/orders/add', {
    //     "order": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000d2835f25c3b553ddaf6206babefff55b00000000000000000000000032f4b63a46c1d12ad82cabc778d75abf9889821a0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000062d7d386000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001c06ac59ad52d25f567780ee644ee3f46440a79071f53adc4542a3dc203c1aa5a5912db554d5e79c9d78ec2de21c670bd2b4b75687154e0f17796494b7980093737000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001dfe7ca09e99d10835bf73044a23b73fc20623df0000000000000000000000000000000000000000000000000000000000111765",
    //     "isBundle": false,
    //     "bundleName": "",
    //     "bundleDesc": "",
    //     "orderIds": [],
    //     "changePrice": false,
    //     "isCollection": false
    // })
    console.log(res);
})()

// console.log(api.postSellOrder())
